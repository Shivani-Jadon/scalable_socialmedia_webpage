<!-- view for home page -->
    
    <h1>
        Welcome 
    </h1>

    <section id="user-friends">
        
        <% if(locals.user) { %> 
            <!-- friends list -->
            <h3>
                Friends
            </h3>
            <ul>
                <% user.friends.forEach(function(friend){ %> 
                    <% console.log("friend : ",friend.sender, user.id) %>
                    <% if(friend.sender == user.id) { %>
                    <li>
                         
                        <a href="/user/profile/<%= friend.receiver.id %>"> 
                            <!-- this will be changed if it works -->
                            <%= user.first_name %>
                            <%= user.last_name %>
                        </a>
                        
                    </li> 
                    <% } %>   
                <% }) %> 
            </ul>
            <% } %>

        
        <% if(locals.user) { %> 
        <!-- other user's list -->
        <h3>
            People you may know
        </h3>
        <ul>
            <% for (u of all_users){ %> 
                <% if(locals.user.id != u.id && user.friends.id != u.id) { %>
                <li>
                     
                    <a href="/user/profile/<%= u.id %>"> 
                        <%= u.first_name %>
                        <%= u.last_name %>
                    </a>
                    
                </li> 
                <% } %>   
            <% } %> 
        </ul>
        <% } %>
    </section>

    <!-- real time framework from server -->
    <!-- js library for socket.io for front-end -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
    <script src="/script/socket_chat_engine.js"></script>
    <% if(locals.user){ %>
        <script>
            new ChatEngine('engine-container', '<%= locals.user.email %>');
        </script>
    <% } %>
    
